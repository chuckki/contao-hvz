$(document).ready(function() {
    function e(e) {
        e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var o = new RegExp("[\\?&]" + e + "=([^&#]*)"),
            t = o.exec(location.search);
        return null === t ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))
    }

    function o(e) {
        e.width() < 806 ? $(".searchicon").length || ($(".logo").append('<div ontouchstart="return true;" class="searchicon fa fa-search fa-3x" ></div>'), $(".searchicon").click(function() {
            return scrollToAnchor("tags"), $("#tags").focus(), !1
        })) : $(".searchicon").remove()
    }



    "true" == e("search") && $("#tags").focus(), $(window).on("resize", function() {
        o($(this))
    }), o($(window)), $(".searchicon").click(function() {
        return scrollToAnchor("tags"), $("#tags").focus(), !1
    });
    var t = new Bloodhound({
        datumTokenizer: Bloodhound.tokenizers.obj.whitespace("ort"),
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        remote: {
            //url: "/bundles/chuckkicontaohvz/megasearch.php?ort=%QUERY",
            url: "/search/%QUERY",
            wildcard: "%QUERY"
        }
    });
    t.initialize(), $("#tags").typeahead({
        minLength: 1
    }, {
        source: t.ttAdapter(),
        name: "myorts",
        displayKey: "ort",
        limit: 20
    }), $("#tags").on("typeahead:selected", function() {
        window.location.href = "/halteverbot-suche.html?suche=" + encodeURIComponent($("#tags").val())
    }), $("#tags").keypress(function(e) {
        if (13 == e.which) {
            var o = $("#tags").val();
            window.location.href = "/halteverbot-suche.html?suche=" + encodeURIComponent(o)
        }
    }), $("#tags").focusout(function() {
        return $(window).width() < 800 && $(".tt-suggestion:first-child").trigger("click"), !0
    }), $(".citysearch input").on("focus", function() {
        scrollToAnchor("hvzlistdropdown")
    })
});